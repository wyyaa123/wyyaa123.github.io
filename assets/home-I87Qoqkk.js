import{d as v,o,c as a,a as r,Q as S,_ as V,g as l,R as T,C as y,D,t as h,S as I,f as g,w as x,L as b,U as j,e as i,i as q,I as E,V as L,F as k,j as M,b as c,T as N,W as F,X as H,Y as R,Z as W,p as w,$ as G,A as O,r as Q,v as U,x as X}from"./app-JdPCXcGL.js";import{g as P}from"./animation-CMSRPBxJ.js";const Z={class:"w-full px-4 flex-center"},J={class:"yun-notice w-full"},K=["innerHTML"],ee=v({__name:"YunNotice",props:{content:{}},setup(u){return(e,t)=>(o(),a("div",Z,[r("div",J,[r("span",{innerHTML:e.content},null,8,K),S(e.$slots,"default")])]))}}),te={},ne={class:"grid-bg"};function se(u,e){return o(),a("div",ne,[l(" <YunAEFrame /> "),l(" <YunAERect /> ")])}const oe=V(te,[["render",se]]),ae={class:"say"},re={key:0,class:"say-content animate-fade-in animate-iteration-1"},ce={key:1,class:"say-author"},ie={key:2,class:"say-from"},le=v({__name:"YunSay",setup(u){const e=T(),t=y(""),n=y(""),s=y("");function m(){const _=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;_&&fetch(_).then(f=>{if(f.ok)f.json().then(d=>{if(e.value.say.hitokoto.enable)t.value=d.hitokoto,n.value=d.from_who,s.value=d.from;else{const p=d[Math.floor(Math.random()*d.length)];p.content?(t.value=p.content,n.value=p.author,s.value=p.from):t.value=p}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${f.status}`)}).catch(f=>{console.error(f.message)})}return D(()=>{m()}),(_,f)=>(o(),a("div",ae,[t.value?(o(),a("span",re,h(t.value),1)):l("v-if",!0),n.value?(o(),a("span",ce,h(n.value),1)):l("v-if",!0),s.value?(o(),a("span",ie,h(s.value),1)):l("v-if",!0)]))}}),ue=v({__name:"YunSiteLinkItem",props:{page:{}},setup(u){const e=I();return(t,n)=>{const s=q;return o(),g(s,{class:"link-item inline-flex-center gap-2 transition rounded-lg text-xl p-2 md:text-lg md:p-2 lg:text-xl lg:p-3 text-$va-c-text",bg:"white/5 dark:black/5","inline-flex":"",to:t.page.url,title:t.page.name,style:j(`color:${t.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:n[0]||(n[0]=m=>i(e).fullscreenMenu.isOpen=!1)},{default:x(()=>[r("div",{class:b([t.page.icon,"icon"])},null,2),r("span",null,h(t.page.name),1)]),_:1},8,["to","title","style"])}}}),_e={key:0,class:"site-description text-$va-c-text text-sm"},pe=v({__name:"YunSiteDescription",setup(u){const e=E();return(t,n)=>i(e).description?(o(),a("div",_e,h(i(e).description),1)):l("v-if",!0)}}),me={key:0,class:"site-subtitle block text-$va-c-text op-80 font-medium",text:"sm"},fe=v({__name:"YunSiteSubtitle",setup(u){const e=E();return(t,n)=>i(e).subtitle?(o(),a("h4",me,h(i(e).subtitle),1)):l("v-if",!0)}}),de={key:0,class:"site-author-intro",m:"t-0 b-4"},ve=v({__name:"YunAuthorIntro",setup(u){const e=E();return(t,n)=>i(e).author.intro?(o(),a("div",de,h(i(e).author.intro),1)):l("v-if",!0)}}),he={key:0,class:"line-burst-effects absolute"},be=v({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(u){const e=u,t=y(!0);return D(async()=>{await L(e.delay),t.value=!1,await L(e.duration),t.value=!0}),(n,s)=>t.value?l("v-if",!0):(o(),a("div",he,[(o(),a(k,null,M(8,m=>r("div",{key:m,class:"line"},s[0]||(s[0]=[r("div",null,[r("span")],-1)]))),64))]))}}),ye={flex:"~ col",class:"yun-square-container items-center justify-center text-center max-w-2xl"},ge={flex:"~ col",class:"yun-square square-rotate z-1 bg-white/80"},$e={flex:"~ col",class:"gap-2 items-center justify-center","my-4":"","md:my-5":"","lg:my-6":"","py-4":"","md:py-6":"",border:"t-1px b-1px black/60 dark:white/60"},xe={class:"mt-4 flex-center w-72 md:w-150 m-auto gap-2",flex:"~ wrap"},ke=v({__name:"YunPrologueSquare",setup(u){const e=T(),t=y(!1);return(n,s)=>{const m=be,_=F,f=H,d=ve,p=R,C=fe,$=pe,Y=W,A=ue;return o(),a("div",ye,[S(n.$slots,"default",{},void 0,!0),r("div",{flex:"~ col center",class:b(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:t.value}])},[c(N,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:s[0]||(s[0]=B=>t.value=!0)},{default:x(()=>[r("div",ge,[c(m,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),c(N,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:x(()=>[c(_)]),_:1})])]),_:1}),r("div",{class:b(["info",{show:t.value}])},[c(f,{class:"mt-3"}),c(d),r("div",$e,[c(p),c(C),c($)]),c(Y),r("div",xe,[c(A,{page:{name:"博客文章",icon:"i-ri-article-line",url:"/posts/"}}),S(n.$slots,"default",{},void 0,!0),(o(!0),a(k,null,M(i(e).pages,(B,z)=>(o(),g(A,{key:z,page:B},null,8,["page"]))),128))])],2)],2)])}}}),we=V(ke,[["__scopeId","data-v-bfe62c9a"]]),Ye=v({__name:"YunGoDown",setup(u){return(e,t)=>(o(),a("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...n)=>i(P)&&i(P)(...n))},t[1]||(t[1]=[r("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])))}}),Se={class:"banner-char-container"},Ce={class:"char"},Ae=v({__name:"YunBannerCharContainer",props:{title:{},chars:{}},setup(u){return(e,t)=>(o(),a("div",Se,[(o(!0),a(k,null,M(e.title,(n,s)=>(o(),a("div",{key:s,class:"char-box"},[r("span",{class:b([s%2!==0?"char-right":"char-left"]),style:j({"--banner-char-size":`${e.chars[s]}rem`})},[r("span",Ce,h(n),1)],6)]))),128))]))}});function Be(u){const e=w(()=>{const n=[];for(let s=0;s<u.title.length;s++){const m=G(1.5,3.5);n.push(m)}return n}),t=w(()=>e.value.reduce((n,s)=>n+s,0));return{chars:e,totalCharHeight:t}}const Le={class:"banner-line-container"},Ne={class:"banner-line-container bottom"},Te=v({__name:"YunBanner",setup(u){const e=I(),t=T(),{totalCharHeight:n,chars:s}=Be(t.value.banner),m=w(()=>{const p={"--total-char-height":`${n.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${n.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(p.borderBottom="1px solid var(--banner-line-color)"),p}),_=y("enter"),f=w(()=>_.value),d=y("banner");return D(async()=>{await L(500),_.value="active",e.isNimbo&&(await L(500),_.value="exit",d.value="prologue")}),(p,C)=>{const $=Ae,Y=Ye;return o(),a("div",{id:"yun-banner",style:j(m.value)},[r("div",Le,[r("div",{class:b(["banner-line vertical-line-top",f.value])},null,2)]),i(e).isNimbo?(o(),a(k,{key:0},[d.value==="banner"?(o(),g($,{key:0,title:i(t).banner.title,chars:i(s)},null,8,["title","chars"])):l("v-if",!0)],64)):l("v-if",!0),i(e).isStrato?(o(),g($,{key:1,title:i(t).banner.title,chars:i(s)},null,8,["title","chars"])):l("v-if",!0),r("div",Ne,[r("div",{class:b(["banner-line vertical-line-bottom",f.value])},null,2)]),c(Y)],4)}}}),ze={class:"absolute top-0 left-5 right-5 bottom-0 flex-center"},je=v({__name:"home",setup(u){const e=I(),t=O(),n=T(),s=w(()=>t.path.startsWith("/page")),m=w(()=>{const _=n.value.notice;return _.enable&&(s.value?!_.hideInPages:!0)});return(_,f)=>{const d=Te,p=we,C=le,$=oe,Y=ee,A=Q("RouterView"),B=U,z=X;return o(),a(k,null,[c(B,{class:b(["items-center flex-col",{"mt-0!":!s.value}])},{default:x(()=>[s.value?l("v-if",!0):(o(),a(k,{key:0},[c(d),c(N,{"enter-from-class":"scale-60","enter-to-class":"scale-100","enter-active-class":"transition-300 transition-cubic-bezier-ease-in-out delay-1000",appear:""},{default:x(()=>[r("div",ze,[c(N,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-800 delay-1000",appear:""},{default:x(()=>[c(p,{class:"z-1"})]),_:1})])]),_:1}),i(n).say.enable?(o(),g(C,{key:0,w:"full"})):l("v-if",!0),i(e).isNimbo?(o(),g($,{key:1,class:"absolute left-0 top-0 right-0 bottom-0"})):l("v-if",!0)],64)),m.value?(o(),g(Y,{key:1,class:b(["mb-2 md:mb-6",{"mt-4":!s.value}]),content:i(n).notice.content},null,8,["class","content"])):l("v-if",!0),S(_.$slots,"board"),S(_.$slots,"default",{},()=>[c(A)])]),_:3},8,["class"]),c(z)],64)}}});export{je as default};
